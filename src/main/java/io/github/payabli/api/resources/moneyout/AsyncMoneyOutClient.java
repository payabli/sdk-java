/**
 * This file was auto-generated by Fern from our API Definition.
 */
package io.github.payabli.api.resources.moneyout;

import io.github.payabli.api.core.ClientOptions;
import io.github.payabli.api.core.RequestOptions;
import io.github.payabli.api.resources.moneyout.requests.CaptureAllOutRequest;
import io.github.payabli.api.resources.moneyout.requests.CaptureOutRequest;
import io.github.payabli.api.resources.moneyout.requests.MoneyOutTypesRequestOutAuthorize;
import io.github.payabli.api.resources.moneyout.requests.SendVCardLinkRequest;
import io.github.payabli.api.resources.moneyouttypes.types.AllowedCheckPaymentStatus;
import io.github.payabli.api.resources.moneyouttypes.types.AuthCapturePayoutResponse;
import io.github.payabli.api.resources.moneyouttypes.types.AuthorizePayoutBody;
import io.github.payabli.api.resources.moneyouttypes.types.CaptureAllOutResponse;
import io.github.payabli.api.resources.moneyouttypes.types.OperationResult;
import io.github.payabli.api.resources.moneyouttypes.types.VCardGetResponse;
import io.github.payabli.api.types.BillDetailResponse;
import io.github.payabli.api.types.PayabliApiResponse0000;
import io.github.payabli.api.types.PayabliApiResponse00Responsedatanonobject;
import java.util.List;
import java.util.concurrent.CompletableFuture;

public class AsyncMoneyOutClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawMoneyOutClient rawClient;

    public AsyncMoneyOutClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawMoneyOutClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawMoneyOutClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Authorizes transaction for payout. Authorized transactions aren't flagged for settlement until captured. Use <code>referenceId</code> returned in the response to capture the transaction.
     */
    public CompletableFuture<AuthCapturePayoutResponse> authorizeOut(AuthorizePayoutBody body) {
        return this.rawClient.authorizeOut(body).thenApply(response -> response.body());
    }

    /**
     * Authorizes transaction for payout. Authorized transactions aren't flagged for settlement until captured. Use <code>referenceId</code> returned in the response to capture the transaction.
     */
    public CompletableFuture<AuthCapturePayoutResponse> authorizeOut(
            AuthorizePayoutBody body, RequestOptions requestOptions) {
        return this.rawClient.authorizeOut(body, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Authorizes transaction for payout. Authorized transactions aren't flagged for settlement until captured. Use <code>referenceId</code> returned in the response to capture the transaction.
     */
    public CompletableFuture<AuthCapturePayoutResponse> authorizeOut(MoneyOutTypesRequestOutAuthorize request) {
        return this.rawClient.authorizeOut(request).thenApply(response -> response.body());
    }

    /**
     * Authorizes transaction for payout. Authorized transactions aren't flagged for settlement until captured. Use <code>referenceId</code> returned in the response to capture the transaction.
     */
    public CompletableFuture<AuthCapturePayoutResponse> authorizeOut(
            MoneyOutTypesRequestOutAuthorize request, RequestOptions requestOptions) {
        return this.rawClient.authorizeOut(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Cancels an array of payout transactions.
     */
    public CompletableFuture<CaptureAllOutResponse> cancelAllOut(List<String> request) {
        return this.rawClient.cancelAllOut(request).thenApply(response -> response.body());
    }

    /**
     * Cancels an array of payout transactions.
     */
    public CompletableFuture<CaptureAllOutResponse> cancelAllOut(List<String> request, RequestOptions requestOptions) {
        return this.rawClient.cancelAllOut(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Cancel a payout transaction by ID.
     */
    public CompletableFuture<PayabliApiResponse0000> cancelOutGet(String referenceId) {
        return this.rawClient.cancelOutGet(referenceId).thenApply(response -> response.body());
    }

    /**
     * Cancel a payout transaction by ID.
     */
    public CompletableFuture<PayabliApiResponse0000> cancelOutGet(String referenceId, RequestOptions requestOptions) {
        return this.rawClient.cancelOutGet(referenceId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Cancel a payout transaction by ID.
     */
    public CompletableFuture<PayabliApiResponse0000> cancelOutDelete(String referenceId) {
        return this.rawClient.cancelOutDelete(referenceId).thenApply(response -> response.body());
    }

    /**
     * Cancel a payout transaction by ID.
     */
    public CompletableFuture<PayabliApiResponse0000> cancelOutDelete(
            String referenceId, RequestOptions requestOptions) {
        return this.rawClient.cancelOutDelete(referenceId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Captures an array of authorized payout transactions for settlement. The maximum number of transactions that can be captured in a single request is 500.
     */
    public CompletableFuture<CaptureAllOutResponse> captureAllOut(List<String> body) {
        return this.rawClient.captureAllOut(body).thenApply(response -> response.body());
    }

    /**
     * Captures an array of authorized payout transactions for settlement. The maximum number of transactions that can be captured in a single request is 500.
     */
    public CompletableFuture<CaptureAllOutResponse> captureAllOut(List<String> body, RequestOptions requestOptions) {
        return this.rawClient.captureAllOut(body, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Captures an array of authorized payout transactions for settlement. The maximum number of transactions that can be captured in a single request is 500.
     */
    public CompletableFuture<CaptureAllOutResponse> captureAllOut(CaptureAllOutRequest request) {
        return this.rawClient.captureAllOut(request).thenApply(response -> response.body());
    }

    /**
     * Captures an array of authorized payout transactions for settlement. The maximum number of transactions that can be captured in a single request is 500.
     */
    public CompletableFuture<CaptureAllOutResponse> captureAllOut(
            CaptureAllOutRequest request, RequestOptions requestOptions) {
        return this.rawClient.captureAllOut(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Captures a single authorized payout transaction by ID.
     */
    public CompletableFuture<AuthCapturePayoutResponse> captureOut(String referenceId) {
        return this.rawClient.captureOut(referenceId).thenApply(response -> response.body());
    }

    /**
     * Captures a single authorized payout transaction by ID.
     */
    public CompletableFuture<AuthCapturePayoutResponse> captureOut(String referenceId, RequestOptions requestOptions) {
        return this.rawClient.captureOut(referenceId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Captures a single authorized payout transaction by ID.
     */
    public CompletableFuture<AuthCapturePayoutResponse> captureOut(String referenceId, CaptureOutRequest request) {
        return this.rawClient.captureOut(referenceId, request).thenApply(response -> response.body());
    }

    /**
     * Captures a single authorized payout transaction by ID.
     */
    public CompletableFuture<AuthCapturePayoutResponse> captureOut(
            String referenceId, CaptureOutRequest request, RequestOptions requestOptions) {
        return this.rawClient.captureOut(referenceId, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Returns details for a processed money out transaction.
     */
    public CompletableFuture<BillDetailResponse> payoutDetails(String transId) {
        return this.rawClient.payoutDetails(transId).thenApply(response -> response.body());
    }

    /**
     * Returns details for a processed money out transaction.
     */
    public CompletableFuture<BillDetailResponse> payoutDetails(String transId, RequestOptions requestOptions) {
        return this.rawClient.payoutDetails(transId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Retrieves vCard details for a single card in an entrypoint.
     */
    public CompletableFuture<VCardGetResponse> vCardGet(String cardToken) {
        return this.rawClient.vCardGet(cardToken).thenApply(response -> response.body());
    }

    /**
     * Retrieves vCard details for a single card in an entrypoint.
     */
    public CompletableFuture<VCardGetResponse> vCardGet(String cardToken, RequestOptions requestOptions) {
        return this.rawClient.vCardGet(cardToken, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Sends a virtual card link via email to the vendor associated with the <code>transId</code>.
     */
    public CompletableFuture<OperationResult> sendVCardLink(SendVCardLinkRequest request) {
        return this.rawClient.sendVCardLink(request).thenApply(response -> response.body());
    }

    /**
     * Sends a virtual card link via email to the vendor associated with the <code>transId</code>.
     */
    public CompletableFuture<OperationResult> sendVCardLink(
            SendVCardLinkRequest request, RequestOptions requestOptions) {
        return this.rawClient.sendVCardLink(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Retrieve the image of a check associated with a processed transaction.
     * The check image is returned in the response body as a base64-encoded string.
     * The check image is only available for payouts that have been processed.
     */
    public CompletableFuture<String> getCheckImage(String assetName) {
        return this.rawClient.getCheckImage(assetName).thenApply(response -> response.body());
    }

    /**
     * Retrieve the image of a check associated with a processed transaction.
     * The check image is returned in the response body as a base64-encoded string.
     * The check image is only available for payouts that have been processed.
     */
    public CompletableFuture<String> getCheckImage(String assetName, RequestOptions requestOptions) {
        return this.rawClient.getCheckImage(assetName, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Updates the status of a processed check payment transaction. This endpoint handles the status transition, updates related bills, creates audit events, and triggers notifications.
     * <p>The transaction must meet all of the following criteria:</p>
     * <ul>
     * <li><strong>Status</strong>: Must be in Processing or Processed status.</li>
     * <li><strong>Payment method</strong>: Must be a check payment method.</li>
     * </ul>
     * <h3>Allowed status values</h3>
     * <p>| Value | Status | Description |
     * |-------|--------|-------------|
     * | <code>0</code> | Cancelled/Voided | Cancels the check transaction. Reverts associated bills to their previous state (Approved or Active), creates &quot;Cancelled&quot; events, and sends a <code>payout_transaction_voidedcancelled</code> notification if the notification is enabled. |
     * | <code>5</code> | Paid | Marks the check transaction as paid. Updates associated bills to &quot;Paid&quot; status, creates &quot;Paid&quot; events, and sends a <code>payout_transaction_paid</code> notification if the notification is enabled. |</p>
     */
    public CompletableFuture<PayabliApiResponse00Responsedatanonobject> updateCheckPaymentStatus(
            String transId, AllowedCheckPaymentStatus checkPaymentStatus) {
        return this.rawClient
                .updateCheckPaymentStatus(transId, checkPaymentStatus)
                .thenApply(response -> response.body());
    }

    /**
     * Updates the status of a processed check payment transaction. This endpoint handles the status transition, updates related bills, creates audit events, and triggers notifications.
     * <p>The transaction must meet all of the following criteria:</p>
     * <ul>
     * <li><strong>Status</strong>: Must be in Processing or Processed status.</li>
     * <li><strong>Payment method</strong>: Must be a check payment method.</li>
     * </ul>
     * <h3>Allowed status values</h3>
     * <p>| Value | Status | Description |
     * |-------|--------|-------------|
     * | <code>0</code> | Cancelled/Voided | Cancels the check transaction. Reverts associated bills to their previous state (Approved or Active), creates &quot;Cancelled&quot; events, and sends a <code>payout_transaction_voidedcancelled</code> notification if the notification is enabled. |
     * | <code>5</code> | Paid | Marks the check transaction as paid. Updates associated bills to &quot;Paid&quot; status, creates &quot;Paid&quot; events, and sends a <code>payout_transaction_paid</code> notification if the notification is enabled. |</p>
     */
    public CompletableFuture<PayabliApiResponse00Responsedatanonobject> updateCheckPaymentStatus(
            String transId, AllowedCheckPaymentStatus checkPaymentStatus, RequestOptions requestOptions) {
        return this.rawClient
                .updateCheckPaymentStatus(transId, checkPaymentStatus, requestOptions)
                .thenApply(response -> response.body());
    }
}
