/**
 * This file was auto-generated by Fern from our API Definition.
 */
package io.github.payabli.resources.tokenstorage;

import io.github.payabli.core.ClientOptions;
import io.github.payabli.core.RequestOptions;
import io.github.payabli.resources.tokenstorage.requests.AddMethodRequest;
import io.github.payabli.resources.tokenstorage.requests.GetMethodRequest;
import io.github.payabli.resources.tokenstorage.requests.UpdateMethodRequest;
import io.github.payabli.resources.tokenstorage.types.AddMethodResponse;
import io.github.payabli.resources.tokenstorage.types.GetMethodResponse;
import io.github.payabli.types.PayabliApiResponsePaymethodDelete;
import java.util.concurrent.CompletableFuture;

public class AsyncTokenStorageClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawTokenStorageClient rawClient;

    public AsyncTokenStorageClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawTokenStorageClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawTokenStorageClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Saves a payment method for reuse. This call exchanges sensitive payment information for a token that can be used to process future transactions. The <code>ReferenceId</code> value in the response is the <code>storedMethodId</code> to use with transactions.
     */
    public CompletableFuture<AddMethodResponse> addMethod(AddMethodRequest request) {
        return this.rawClient.addMethod(request).thenApply(response -> response.body());
    }

    /**
     * Saves a payment method for reuse. This call exchanges sensitive payment information for a token that can be used to process future transactions. The <code>ReferenceId</code> value in the response is the <code>storedMethodId</code> to use with transactions.
     */
    public CompletableFuture<AddMethodResponse> addMethod(AddMethodRequest request, RequestOptions requestOptions) {
        return this.rawClient.addMethod(request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Retrieves details for a saved payment method.
     */
    public CompletableFuture<GetMethodResponse> getMethod(String methodId) {
        return this.rawClient.getMethod(methodId).thenApply(response -> response.body());
    }

    /**
     * Retrieves details for a saved payment method.
     */
    public CompletableFuture<GetMethodResponse> getMethod(String methodId, GetMethodRequest request) {
        return this.rawClient.getMethod(methodId, request).thenApply(response -> response.body());
    }

    /**
     * Retrieves details for a saved payment method.
     */
    public CompletableFuture<GetMethodResponse> getMethod(
            String methodId, GetMethodRequest request, RequestOptions requestOptions) {
        return this.rawClient.getMethod(methodId, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Deletes a saved payment method.
     */
    public CompletableFuture<PayabliApiResponsePaymethodDelete> removeMethod(String methodId) {
        return this.rawClient.removeMethod(methodId).thenApply(response -> response.body());
    }

    /**
     * Deletes a saved payment method.
     */
    public CompletableFuture<PayabliApiResponsePaymethodDelete> removeMethod(
            String methodId, RequestOptions requestOptions) {
        return this.rawClient.removeMethod(methodId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Updates a saved payment method.
     */
    public CompletableFuture<PayabliApiResponsePaymethodDelete> updateMethod(
            String methodId, UpdateMethodRequest request) {
        return this.rawClient.updateMethod(methodId, request).thenApply(response -> response.body());
    }

    /**
     * Updates a saved payment method.
     */
    public CompletableFuture<PayabliApiResponsePaymethodDelete> updateMethod(
            String methodId, UpdateMethodRequest request, RequestOptions requestOptions) {
        return this.rawClient.updateMethod(methodId, request, requestOptions).thenApply(response -> response.body());
    }
}
