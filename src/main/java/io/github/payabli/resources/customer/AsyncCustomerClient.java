/**
 * This file was auto-generated by Fern from our API Definition.
 */
package io.github.payabli.resources.customer;

import io.github.payabli.core.ClientOptions;
import io.github.payabli.core.RequestOptions;
import io.github.payabli.resources.customer.requests.AddCustomerRequest;
import io.github.payabli.types.CustomerData;
import io.github.payabli.types.CustomerQueryRecords;
import io.github.payabli.types.PayabliApiResponse00Responsedatanonobject;
import io.github.payabli.types.PayabliApiResponseCustomerQuery;
import java.util.concurrent.CompletableFuture;

public class AsyncCustomerClient {
    protected final ClientOptions clientOptions;

    private final AsyncRawCustomerClient rawClient;

    public AsyncCustomerClient(ClientOptions clientOptions) {
        this.clientOptions = clientOptions;
        this.rawClient = new AsyncRawCustomerClient(clientOptions);
    }

    /**
     * Get responses with HTTP metadata like headers
     */
    public AsyncRawCustomerClient withRawResponse() {
        return this.rawClient;
    }

    /**
     * Creates a customer in an entrypoint. An identifier is required to create customer records. Change your identifier settings in Settings &gt; Custom Fields in PartnerHub.
     * If you don't include an identifier, the record is rejected.
     */
    public CompletableFuture<PayabliApiResponseCustomerQuery> addCustomer(String entry, AddCustomerRequest request) {
        return this.rawClient.addCustomer(entry, request).thenApply(response -> response.body());
    }

    /**
     * Creates a customer in an entrypoint. An identifier is required to create customer records. Change your identifier settings in Settings &gt; Custom Fields in PartnerHub.
     * If you don't include an identifier, the record is rejected.
     */
    public CompletableFuture<PayabliApiResponseCustomerQuery> addCustomer(
            String entry, AddCustomerRequest request, RequestOptions requestOptions) {
        return this.rawClient.addCustomer(entry, request, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Delete a customer record.
     */
    public CompletableFuture<PayabliApiResponse00Responsedatanonobject> deleteCustomer(int customerId) {
        return this.rawClient.deleteCustomer(customerId).thenApply(response -> response.body());
    }

    /**
     * Delete a customer record.
     */
    public CompletableFuture<PayabliApiResponse00Responsedatanonobject> deleteCustomer(
            int customerId, RequestOptions requestOptions) {
        return this.rawClient.deleteCustomer(customerId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Retrieves a customer's record and details.
     */
    public CompletableFuture<CustomerQueryRecords> getCustomer(int customerId) {
        return this.rawClient.getCustomer(customerId).thenApply(response -> response.body());
    }

    /**
     * Retrieves a customer's record and details.
     */
    public CompletableFuture<CustomerQueryRecords> getCustomer(int customerId, RequestOptions requestOptions) {
        return this.rawClient.getCustomer(customerId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Links a customer to a transaction by ID.
     */
    public CompletableFuture<PayabliApiResponse00Responsedatanonobject> linkCustomerTransaction(
            int customerId, String transId) {
        return this.rawClient.linkCustomerTransaction(customerId, transId).thenApply(response -> response.body());
    }

    /**
     * Links a customer to a transaction by ID.
     */
    public CompletableFuture<PayabliApiResponse00Responsedatanonobject> linkCustomerTransaction(
            int customerId, String transId, RequestOptions requestOptions) {
        return this.rawClient
                .linkCustomerTransaction(customerId, transId, requestOptions)
                .thenApply(response -> response.body());
    }

    /**
     * Sends the consent opt-in email to the customer email address in the customer record.
     */
    public CompletableFuture<PayabliApiResponse00Responsedatanonobject> requestConsent(int customerId) {
        return this.rawClient.requestConsent(customerId).thenApply(response -> response.body());
    }

    /**
     * Sends the consent opt-in email to the customer email address in the customer record.
     */
    public CompletableFuture<PayabliApiResponse00Responsedatanonobject> requestConsent(
            int customerId, RequestOptions requestOptions) {
        return this.rawClient.requestConsent(customerId, requestOptions).thenApply(response -> response.body());
    }

    /**
     * Update a customer record. Include only the fields you want to change.
     */
    public CompletableFuture<PayabliApiResponse00Responsedatanonobject> updateCustomer(int customerId) {
        return this.rawClient.updateCustomer(customerId).thenApply(response -> response.body());
    }

    /**
     * Update a customer record. Include only the fields you want to change.
     */
    public CompletableFuture<PayabliApiResponse00Responsedatanonobject> updateCustomer(
            int customerId, CustomerData request) {
        return this.rawClient.updateCustomer(customerId, request).thenApply(response -> response.body());
    }

    /**
     * Update a customer record. Include only the fields you want to change.
     */
    public CompletableFuture<PayabliApiResponse00Responsedatanonobject> updateCustomer(
            int customerId, CustomerData request, RequestOptions requestOptions) {
        return this.rawClient
                .updateCustomer(customerId, request, requestOptions)
                .thenApply(response -> response.body());
    }
}
